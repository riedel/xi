<?xml version="1.0"?>

<!-- Ant 1.2 build file: jakarta.apache.org -->

<project name="XI" default="jar" basedir=".">
   <property name="classpath" value=".;lib/hc.jar"/>

   <target name="jar" depends="compile">
      <jar jarfile="lib/xi.jar"
           basedir="classes"/>
   </target>
   <target name="compile" depends="precompile">
      <javac destdir="classes"
             classpath="${classpath}"
             debug="on">
         <src path="src"/>
         <src path="autosrc"/>
      </javac>
      <copy todir="classes">
         <fileset dir="src" includes="**/*.properties"/>
      </copy>
   </target>
   <target name="precompile" depends="prepare">
      <javadoc sourcepath="src"
               packagenames="org.ananas.xi"
               classpath="${classpath}">
         <doclet name="org.ananas.hc.compiler.CompilerDoclet"
                 path="${classpath}">
            <param name="-d" value="autosrc"/>
         </doclet>
      </javadoc>
   </target>
   <target name="prepare">
      <mkdir dir="classes"/>
      <mkdir dir="autosrc"/>
      <mkdir dir="lib"/>
   </target>
</project>
